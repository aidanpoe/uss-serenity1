# Basic security .htaccess for USS-Serenity
# Simplified version that doesn't block PHP execution

# Hide sensitive files
<FilesMatch "\.(md|log|sql|conf|ini|bak|old|tmp)$">
    Order allow,deny
    Deny from all
</FilesMatch>

# Protect development and setup files
<Files "migrate_database.php">
    Order allow,deny
    Deny from all
</Files>

<Files "setup_*.php">
    Order allow,deny
    Deny from all
</Files>

<Files "fix_*.php">
    Order allow,deny
    Deny from all
</Files>

<Files "test_*.php">
    Order allow,deny
    Deny from all
</Files>

<Files "debug_*.php">
    Order allow,deny
    Deny from all
</Files>

<Files "database_admin.php">
    Order allow,deny
    Deny from all
</Files>

<Files "update_*.php">
    Order allow,deny
    Deny from all
</Files>

# Protect specific sensitive files in includes directory
<Files "config.php">
    Order allow,deny
    Deny from all
</Files>

<Files "secure_config.php">
    Order allow,deny
    Deny from all
</Files>

# Disable directory browsing
Options -Indexes

# Basic security headers
<IfModule mod_headers.c>
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options DENY
    Header always set X-XSS-Protection "1; mode=block"
    Header unset X-Powered-By
</IfModule>

# Basic file upload size limits
<Files "upload*">
    php_value upload_max_filesize 5M
    php_value post_max_size 10M
</Files>